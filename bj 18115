#include <bits/stdc++.h>
using namespace std;
using ll = long long;
using pi = pair<int,int>;
using pli = pair<ll,int>;
int INF1 = 1e9;
ll INF = 1e15;

int main() {
  ios::sync_with_stdio(false);
  cin.tie(0);
  int N; cin>>N;
    int cur = 1;
    deque<int> dq;
    vector<int> v;
    for(int i=0; i<N; i++)
        {
            int a; cin>>a;
            v.push_back(a);
        }
    reverse(v.begin(),v.end());

    for(int i=0; i<v.size(); i++)
        {
            int a = v[i];
            if(a==1)
                {
                    dq.push_front(cur);
                }
                if(a==2)
                    {
                        dq.insert(dq.begin()+1,cur);
                    }
                if(a==3)
                    {
                        dq.push_back(cur);
                    }
                cur++;
        }

    while(!dq.empty())
        {
            cout<<dq.front()<<" ";dq.pop_front();
        }
    
    
}
