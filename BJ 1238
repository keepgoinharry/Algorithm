#include <bits/stdc++.h>

using namespace std;

int main() { 
  ios_base::sync_with_stdio(false);
  cin.tie(0);

  int N,M,X;
  cin>>N>>M>>X;

  vector<vector<int>> v(N+1,vector<int>(N+1,1e9));

  for(int i=0; i<=N; i++)
    {
      v[i][i] = 0;
    }

  for(int i=0; i<M; i++)
    {
      int a,b,c;
      cin>>a>>b>>c;
      v[a][b] = c;
    }
  vector<vector<int>> v1=v;
  for(int k=1; k<=N; k++)
    {
      for(int i=1; i<=N; i++)
        {
          for(int j=1; j<=N; j++)
            {
              if(v[i][j]>v[i][k]+v[k][j])
              {
                v[i][j] = v[i][k] + v[k][j];
              }
            }
        }
    }


  
  vector<int> dist(N+1,0);
  for(int i=1; i<=N; i++)
    {
      if(i==X)
      {
        continue;
      }
      dist[i] += v[i][X];
    }
  for(int i=1; i<=N; i++)
    {
      if(i==X)continue;
      dist[i] += v[X][i];
    }

 // for(auto i:dist)cout<<i<<" ";
  cout<<*max_element(dist.begin()+1,dist.end());
}
